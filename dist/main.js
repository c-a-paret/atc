/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/Application/AeroplaneService.js":
/*!*********************************************!*\
  !*** ./src/Application/AeroplaneService.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AeroplaneService\": () => (/* binding */ AeroplaneService)\n/* harmony export */ });\n/* harmony import */ var _Domain_Aeroplane_Aeroplane__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Domain/Aeroplane/Aeroplane */ \"./src/Domain/Aeroplane/Aeroplane.js\");\n/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/common */ \"./src/utils/common.js\");\n/* harmony import */ var _Command_CommandParser_CommandParser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Command/CommandParser/CommandParser */ \"./src/Command/CommandParser/CommandParser.js\");\n\n\n\n\nclass AeroplaneService {\n    constructor(mapBoundaries) {\n        this.aeroplanes = []\n        this.mapBoundaries = mapBoundaries\n    }\n\n    initArrival = () => {\n        const callSign = `${_utils_common__WEBPACK_IMPORTED_MODULE_1__.AIRCRAFT[Math.floor(Math.random() * _utils_common__WEBPACK_IMPORTED_MODULE_1__.AIRCRAFT.length)].operatorIATA}${(0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.getRandomNumberBetween)(100, 999)}`\n        const startX = (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.getRandomNumberBetween)(100, 1100)\n        const startY = (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.getRandomNumberBetween)(100, 800)\n        const startSpeed = (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.getRandomNumberBetween)(180, 260)\n        const startHeading = (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.getRandomNumberBetween)(0, 359)\n        const startAltitude = (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.getRandomNumberBetween)(5000, 10000)\n        const weight = [1, 2, 3][Math.floor(Math.random() * 3)];\n        const plane = new _Domain_Aeroplane_Aeroplane__WEBPACK_IMPORTED_MODULE_0__.Aeroplane(callSign, startX, startY, startSpeed, startHeading, startAltitude, weight)\n        this.aeroplanes.push(plane)\n    }\n\n    initTestAeroplanes = () => {\n\n        for (let x = 0; x < 8; x++) {\n            // this.aeroplanes.push(new Aeroplane(\"BA123\", 500, 300, 300, x))\n            this.initArrival()\n        }\n        // this.aeroplanes = [\n        // new Aeroplane(\"BA123\", 1100, 250, 160, 270, 5000, 2),\n        // new Aeroplane(\"BA456\", 500, 130, 260, 90, 5000, 1),\n        // new Aeroplane(\"BA789\", 500, 140, 140, 93, 6000),\n        // new Aeroplane(\"BA111\", 500, 150, 150, 94, 6000),\n        // new Aeroplane(\"BA222\", 500, 160, 160, 95, 6000),\n        // new Aeroplane(\"BA333\", 500, 170, 170, 96, 6000),\n        // new Aeroplane(\"BA444\", 500, 180, 180, 97, 6000),\n        // new Aeroplane(\"BA555\", 500, 190, 190, 98, 6000),\n        // new Aeroplane(\"BA666\", 500, 200, 200, 99, 6000),\n        // new Aeroplane(\"BA777\", 500, 210, 210, 100, 6000),\n        // new Aeroplane(\"BA888\", 500, 220, 220, 101, 6000),\n        // new Aeroplane(\"BA888\", 500, 230, 230, 102, 6000),\n        // new Aeroplane(\"BA888\", 500, 240, 240, 103, 6000),\n        // new Aeroplane(\"BA888\", 500, 250, 250, 104, 6000),\n        // new Aeroplane(\"BA888\", 500, 260, 260, 105, 6000),\n        // new Aeroplane(\"BA888\", 500, 270, 270, 106, 6000),\n        // new Aeroplane(\"BA888\", 500, 280, 280, 107, 6000),\n        // new Aeroplane(\"BA888\", 500, 290, 290, 108, 6000),\n        // new Aeroplane(\"BA888\", 500, 300, 300, 109, 6000),\n        // ]\n\n        // this.aeroplanes.forEach(plane => {\n        //     plane.setSpeed(220)\n        // })\n    }\n\n    sendCommand = (rawCommand) => {\n        const command = (0,_Command_CommandParser_CommandParser__WEBPACK_IMPORTED_MODULE_2__.parseCommand)(rawCommand)\n        this.aeroplanes.forEach(plane => {\n            if (plane.callSign === command.callSign) {\n                if (command.speed) {\n                    plane.setSpeed(command.speed)\n                }\n                if (command.heading) {\n                    plane.setHeading(command.heading)\n                }\n                if (command.altitude) {\n                    plane.setAltitude(command.altitude)\n                }\n                if (command.waypoint) {\n                    plane.setWaypoint(command.waypoint)\n                }\n            }\n        })\n        return command\n    }\n\n    getCallSignByPosition = (x, y) => {\n        for (let n = 0; n < this.aeroplanes.length; n++) {\n            let plane = this.aeroplanes[n]\n            if (plane.withinPosition(x, y)) {\n                return plane.callSign\n            }\n        }\n        return null\n    }\n\n    deactivateAeroplanes = () => {\n        this.aeroplanes.forEach(plane => {\n            if (plane.isOutsideBoundaries(this.mapBoundaries)) {\n                plane.makeInactive()\n            }\n        })\n    }\n}\n\n//# sourceURL=webpack://atc/./src/Application/AeroplaneService.js?");

/***/ }),

/***/ "./src/Application/GameLoop.js":
/*!*************************************!*\
  !*** ./src/Application/GameLoop.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameLoop\": () => (/* binding */ GameLoop)\n/* harmony export */ });\nclass GameLoop {\n    constructor(uiController, interfaceController, aeroplaneService) {\n        this.uiController = uiController\n        this.interfaceController = interfaceController\n        this.aeroplaneService = aeroplaneService\n    }\n\n    init() {\n        this.interfaceController.init()\n        // for (let x = 0; x < 5; x++) {\n        //     aeroplaneService.initArrival()\n        // }\n        this.aeroplaneService.initTestAeroplanes()\n        this.aeroplaneService.aeroplanes.forEach(plane => this.uiController.drawAeroplane(plane))\n    }\n\n    start() {\n        setInterval(() => {\n            this.uiController.clearAeroplaneLayer()\n            this.aeroplaneService.deactivateAeroplanes()\n            this.aeroplaneService.aeroplanes.forEach(plane => {\n                if (plane.active) {\n                    plane.applyActions()\n                    this.uiController.drawAeroplane(plane)\n                }\n            })\n        }, 900)\n    }\n}\n\n//# sourceURL=webpack://atc/./src/Application/GameLoop.js?");

/***/ }),

/***/ "./src/Command/CommandParser/CommandParser.js":
/*!****************************************************!*\
  !*** ./src/Command/CommandParser/CommandParser.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"commandMessage\": () => (/* binding */ commandMessage),\n/* harmony export */   \"parseAltitude\": () => (/* binding */ parseAltitude),\n/* harmony export */   \"parseCommand\": () => (/* binding */ parseCommand),\n/* harmony export */   \"parseHeading\": () => (/* binding */ parseHeading),\n/* harmony export */   \"parseSpeed\": () => (/* binding */ parseSpeed),\n/* harmony export */   \"parseWaypoint\": () => (/* binding */ parseWaypoint)\n/* harmony export */ });\nconst parseCommand = (command) => {\n    let callSign = command.substring(0, 5);\n    let actionCommands = command.substring(5);\n    let parsedHeading = parseHeading(actionCommands);\n    let parsedWaypoint = parseWaypoint(actionCommands);\n    const heading = parsedWaypoint ? null : parsedHeading\n    const waypoint = parsedHeading ? null : parsedWaypoint\n    return {\n        callSign: callSign,\n        speed: parseSpeed(actionCommands),\n        heading: heading,\n        altitude: parseAltitude(actionCommands),\n        waypoint: waypoint\n    }\n}\n\nconst commandMessage = (parsedCommand) => {\n    return `${parsedCommand.callSign}\\n${parsedCommand.speed ? ' Speed: ' + parsedCommand.speed + '\\n' : ''}${parsedCommand.heading ? ' Heading: ' + parsedCommand.heading + '\\n' : ''}${parsedCommand.altitude ? ' Altitude: ' + parsedCommand.altitude + '' : ''}${parsedCommand.waypoint ? ' Waypoint: ' + parsedCommand.waypoint + '' : ''}`\n}\n\nconst parseSpeed = (command) => {\n    const match = command.match(/S(\\d{2,3})/g);\n    if (match && match.length === 1) {\n        return parseInt(match[0].substring(1))\n    }\n    return null\n}\n\nconst parseHeading = (command) => {\n    const match = command.match(/H(\\d{3})/g);\n    if (match && match.length === 1) {\n        let heading = parseInt(match[0].substring(1));\n        return heading === 0 ? 360 : heading\n    }\n    return null\n}\n\nconst parseAltitude = (command) => {\n    const match = command.match(/[CD](\\d{1,2})/g);\n    if (match && match.length === 1) {\n        return parseInt(match[0].substring(1)) * 1000\n    }\n    return null\n}\n\nconst parseWaypoint = (command) => {\n    const match = command.match(/[:](\\w{3})/g);\n    if (match && match.length === 1) {\n        return match[0].substring(1)\n    }\n    return null\n}\n\n//# sourceURL=webpack://atc/./src/Command/CommandParser/CommandParser.js?");

/***/ }),

/***/ "./src/Domain/Action/Action.js":
/*!*************************************!*\
  !*** ./src/Domain/Action/Action.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Altitude\": () => (/* binding */ Altitude),\n/* harmony export */   \"Heading\": () => (/* binding */ Heading),\n/* harmony export */   \"Speed\": () => (/* binding */ Speed),\n/* harmony export */   \"Waypoint\": () => (/* binding */ Waypoint),\n/* harmony export */   \"shortestAngle\": () => (/* binding */ shortestAngle)\n/* harmony export */ });\n/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/common */ \"./src/utils/common.js\");\n/* harmony import */ var _config_maps_EGLL__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config/maps/EGLL */ \"./src/config/maps/EGLL.js\");\n\n\n\nclass Action {\n    constructor(aeroplane, targetValue) {\n        this.aeroplane = aeroplane\n        this.targetValue = targetValue\n    }\n\n    type = () => {\n        return this.constructor.name\n    }\n\n    apply = () => {\n\n    };\n\n    isActionable = () => {\n\n    };\n\n    isValid = () => {\n\n    };\n}\n\nclass Speed extends Action {\n    weightMultiplierMap = {\n        3: 1,\n        2: 2,\n        1: 3\n    };\n\n    constructor(aeroplane, targetSpeed) {\n        super(aeroplane, targetSpeed);\n    }\n\n    apply = () => {\n        if (this.aeroplane.speed < this.targetValue) {\n            const newValue = this.aeroplane.speed + this.weightMultiplierMap[this.aeroplane.weight]\n            this.aeroplane.speed = Math.min(newValue, this.targetValue)\n        }\n        if (this.aeroplane.speed > this.targetValue) {\n            const newValue = this.aeroplane.speed - this.weightMultiplierMap[this.aeroplane.weight]\n            this.aeroplane.speed = Math.max(newValue, this.targetValue)\n        }\n    }\n\n    isActionable = () => {\n        return this.aeroplane.speed !== this.targetValue\n    }\n\n    isValid = () => {\n        return this.targetValue\n            && this.targetValue !== this.aeroplane.speed\n            && this.targetValue % 10 === 0\n            && this.targetValue >= _utils_common__WEBPACK_IMPORTED_MODULE_0__.MIN_SPEED\n    }\n}\n\nclass Heading extends Action {\n    constructor(aeroplane, targetHeading) {\n        super(aeroplane, targetHeading);\n    }\n\n    apply = () => {\n        const currentHeading = this.aeroplane.heading\n        const targetHeading = this.targetValue\n\n        if (this._wouldEndUpBeyondTarget(targetHeading, currentHeading)) {\n            this.aeroplane.heading = targetHeading\n            return\n        }\n\n        if (shortestAngle(currentHeading, targetHeading) > 0) {\n            // turn right\n            this.aeroplane.heading = (this.aeroplane.heading + this._change_rate()) % 360;\n        } else {\n            // turn left\n            let newHeading = this.aeroplane.heading - this._change_rate();\n            this.aeroplane.heading = newHeading < 0 ? newHeading + 360 : newHeading;\n        }\n    };\n\n    _wouldEndUpBeyondTarget(targetHeading, currentHeading) {\n        return Math.abs(targetHeading - currentHeading) < this._change_rate();\n    }\n\n    _change_rate = () => {\n        if (this.aeroplane.speed < 200) {\n            return 5\n        } else if (this.aeroplane.speed < 300) {\n            return 3\n        } else {\n            return 2\n        }\n    }\n\n    isActionable = () => {\n        return this.aeroplane.heading !== this.targetValue\n    };\n\n    isValid = () => {\n        return this.targetValue\n            && this.targetValue !== this.aeroplane.heading\n            && this.targetValue >= 0\n            && this.targetValue <= 360\n    };\n}\n\nclass Altitude extends Action {\n    constructor(aeroplane, targetAltitude) {\n        super(aeroplane, targetAltitude);\n    }\n\n    apply = () => {\n        if (this.aeroplane.altitude < this.targetValue) {\n            const newValue = this.aeroplane.altitude + 20\n            this.aeroplane.altitude = Math.min(newValue, this.targetValue)\n        }\n        if (this.aeroplane.altitude > this.targetValue) {\n            const newValue = this.aeroplane.altitude - 20\n            this.aeroplane.altitude = Math.max(newValue, this.targetValue)\n        }\n    }\n\n    isActionable = () => {\n        return this.aeroplane.altitude !== this.targetValue\n    }\n\n    isValid = () => {\n        return this.targetValue\n            && this.targetValue !== this.aeroplane.altitude\n            && this.targetValue >= _utils_common__WEBPACK_IMPORTED_MODULE_0__.MIN_ALTITUDE\n            && this.targetValue <= _utils_common__WEBPACK_IMPORTED_MODULE_0__.MAX_ALTITUDE\n            && this.targetValue % 100 === 0\n    }\n}\n\nclass Waypoint extends Action {\n    constructor(aeroplane, targetWaypoint) {\n        super(aeroplane, null);\n        _config_maps_EGLL__WEBPACK_IMPORTED_MODULE_1__.EGLL.features.waypoints.forEach(vor => {\n            if (vor.id === targetWaypoint) {\n                this.targetX = vor.x\n                this.targetY = vor.y\n            }\n        })\n\n        this.targetValue = this._determine_heading()\n    }\n\n    _determine_heading = () => {\n        const opposite = Math.abs(this.targetY - this.aeroplane.y)\n        const adjacent = Math.abs(this.targetX - this.aeroplane.x)\n        const theta = Math.round((0,_utils_common__WEBPACK_IMPORTED_MODULE_0__.toDegrees)(Math.atan((opposite / adjacent))))\n\n        let heading;\n        if (this.targetX > this.aeroplane.x) {\n            if (this.targetY < this.aeroplane.y) {\n                heading = 90 - theta\n            } else {\n                heading = 90 + theta\n            }\n        } else {\n            if (this.targetY < this.aeroplane.y) {\n                heading = 270 + theta\n            } else {\n                heading = 270 - theta\n            }\n        }\n        return heading\n    }\n\n    isActionable = () => {\n        const distanceToWaypoint = (0,_utils_common__WEBPACK_IMPORTED_MODULE_0__.distance)(this.aeroplane.x, this.aeroplane.y, this.targetX, this.targetY)\n        const arrived = distanceToWaypoint <= 8\n        return !arrived\n    }\n\n    apply = () => {\n        const currentHeading = this.aeroplane.heading\n        const targetHeading = this._determine_heading()\n\n        if (this._wouldEndUpBeyondTarget(targetHeading, currentHeading)) {\n            this.aeroplane.heading = targetHeading\n            return\n        }\n\n        if (shortestAngle(currentHeading, targetHeading) > 0) {\n            // turn right\n            this.aeroplane.heading = (this.aeroplane.heading + this._change_rate()) % 360;\n        } else {\n            // turn left\n            let newHeading = this.aeroplane.heading - this._change_rate();\n            this.aeroplane.heading = newHeading < 0 ? newHeading + 360 : newHeading;\n        }\n    };\n\n    _wouldEndUpBeyondTarget(targetHeading, currentHeading) {\n        return Math.abs(targetHeading - currentHeading) < this._change_rate();\n    }\n\n    _change_rate = () => {\n        if (this.aeroplane.speed < 200) {\n            return 5\n        } else if (this.aeroplane.speed < 300) {\n            return 3\n        } else {\n            return 2\n        }\n    }\n\n    isValid = () => {\n        // TODO: Implement this\n        return true;\n    }\n}\n\n\nconst shortestAngle = (currentHeading, targetHeading) => {\n    if (currentHeading === 180 && targetHeading === 0) {\n        return 180\n    }\n    if (currentHeading === 0 && (targetHeading < 360 && targetHeading > 180)) {\n        return targetHeading - 360\n    }\n    if (currentHeading - targetHeading < -180) {\n        return -(currentHeading + 360 - targetHeading)\n    }\n    if (currentHeading - targetHeading > 180) {\n        return targetHeading + 360 - currentHeading\n    }\n    return targetHeading - currentHeading\n}\n\n//# sourceURL=webpack://atc/./src/Domain/Action/Action.js?");

/***/ }),

/***/ "./src/Domain/Aeroplane/Aeroplane.js":
/*!*******************************************!*\
  !*** ./src/Domain/Aeroplane/Aeroplane.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Aeroplane\": () => (/* binding */ Aeroplane)\n/* harmony export */ });\n/* harmony import */ var _Action_Action__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Action/Action */ \"./src/Domain/Action/Action.js\");\n/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/common */ \"./src/utils/common.js\");\n\n\n\nclass Aeroplane {\n    constructor(callSign, x, y, speed, hdg, altitude, weight) {\n        this.callSign = callSign;\n        this.weight = weight;\n        this.x = x;\n        this.y = y;\n        this.speed = speed;\n        this.heading = hdg;\n        this.altitude = altitude;\n        this.actions = []\n        this.active = true\n    }\n\n    addAction = (action) => {\n        for (let x = 0; x < this.actions.length; x++) {\n            if (this.actions[x].type() === \"Waypoint\" && action.type() === \"Heading\") { // heading overwrites waypoint\n                this.actions[x] = action\n                return\n            }\n            if (this.actions[x].type() === \"Heading\" && action.type() === \"Waypoint\") { // waypoint overwrites heading\n                this.actions[x] = action\n                return\n            }\n            if (this.actions[x].type() === \"Waypoint\" && action.type() === \"Waypoint\") { // waypoint overwrites waypoint\n                this.actions[x] = action\n                return\n            }\n            if (this.actions[x].type() === action.type()) { // update target value // TODO: Could just replace the action here too\n                this.actions[x].targetValue = action.targetValue\n                return\n            }\n        }\n        this.actions.push(action)\n    }\n\n    setSpeed = (speed) => {\n        const newSpeed = new _Action_Action__WEBPACK_IMPORTED_MODULE_0__.Speed(this, speed);\n        if (newSpeed.isValid()) {\n            this.addAction(newSpeed)\n        }\n    }\n\n    setHeading = (heading) => {\n        const newHeading = new _Action_Action__WEBPACK_IMPORTED_MODULE_0__.Heading(this, heading);\n        if (newHeading.isValid()) {\n            this.addAction(newHeading)\n        }\n    }\n\n    setAltitude = (altitude) => {\n        const newAltitude = new _Action_Action__WEBPACK_IMPORTED_MODULE_0__.Altitude(this, altitude);\n        if (newAltitude.isValid()) {\n            this.addAction(newAltitude)\n        }\n    }\n\n    setWaypoint = (waypoint) => {\n        const newWaypoint = new _Action_Action__WEBPACK_IMPORTED_MODULE_0__.Waypoint(this, waypoint);\n        if (newWaypoint.isValid()) {\n            this.addAction(newWaypoint)\n        }\n    }\n\n    _clean_actions = () => {\n        this.actions = this.actions.filter(action => action.isActionable())\n    }\n\n    applyActions = () => {\n        this.actions.forEach(action => {\n            action.apply()\n        })\n\n        const headingRadians = (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.toRadians)(this.heading)\n        const distancePerTick = 1 + ((this.speed - 100) / 20 * 0.5)\n        this.x = (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.round)(this.x + distancePerTick * Math.sin(headingRadians), 2);\n        this.y = (0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.round)(this.y - distancePerTick * Math.cos(headingRadians), 2);\n\n        this._clean_actions()\n    }\n\n    withinPosition = (x, y) => {\n        const minX = x - 30\n        const maxX = x + 30\n        const minY = y - 30\n        const maxY = y + 30\n        const withinX = (minX < this.x && this.x < maxX)\n        const withinY = (minY < this.y && this.y < maxY)\n        return withinX && withinY\n    }\n\n    makeInactive = () => {\n        this.active = false\n    }\n\n    isOutsideBoundaries = (mapBoundaries) => {\n        const outsideX = (this.x < mapBoundaries.minX || this.x > mapBoundaries.maxX)\n        const outsideY = (this.y < mapBoundaries.minY || this.y > mapBoundaries.maxY)\n        return outsideX || outsideY\n    }\n\n}\n\n\n//# sourceURL=webpack://atc/./src/Domain/Aeroplane/Aeroplane.js?");

/***/ }),

/***/ "./src/Interface/InterfaceController.js":
/*!**********************************************!*\
  !*** ./src/Interface/InterfaceController.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InterfaceController\": () => (/* binding */ InterfaceController)\n/* harmony export */ });\n/* harmony import */ var _Command_CommandParser_CommandParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Command/CommandParser/CommandParser */ \"./src/Command/CommandParser/CommandParser.js\");\n\n\nclass InterfaceController {\n    constructor(aeroplaneService) {\n        this.aeroplaneService = aeroplaneService\n        this.lastCallSign = null\n    }\n\n    init = () => {\n        this._setupCommandInterface()\n        this._setupClickInterface()\n        this._focusCommandEntry()\n    }\n\n    _newCommandHandler = () => {\n        let commandField = document.getElementById(\"command-entry-field\");\n        const parsedCommand = this.aeroplaneService.sendCommand(commandField.value)\n        this.lastCallSign = parsedCommand.callSign\n        commandField.value = \"\"\n        this._displayMessage((0,_Command_CommandParser_CommandParser__WEBPACK_IMPORTED_MODULE_0__.commandMessage)(parsedCommand))\n        setTimeout(() => {\n            this._clearMessage()\n        }, 2000)\n    };\n\n    _displayMessage = (message) => {\n        let messageField = document.getElementById(\"message-display\");\n        messageField.innerText = message\n    }\n\n    _clearMessage = () => {\n        document.getElementById(\"message-display\").innerText = \"\"\n    }\n\n    _previousCallSignHandler = () => {\n        let commandField = document.getElementById(\"command-entry-field\");\n        commandField.value = this.lastCallSign\n    };\n\n    _setupCommandInterface = () => {\n        document.getElementById(\"send-command\").addEventListener(\"click\", this._newCommandHandler)\n        document.addEventListener('keyup', (e) => {\n            if (e.code === \"Enter\") {\n                this._newCommandHandler()\n            }\n        });\n        document.addEventListener('keyup', (e) => {\n            if (e.code === \"ArrowUp\") {\n                this._previousCallSignHandler()\n            }\n        });\n    }\n\n    _focusCommandEntry = () => {\n        document.getElementById(\"command-entry-field\").focus()\n    }\n\n    _setupClickInterface = () => {\n        document.addEventListener('click', (e) => {\n            const clickedX = e.clientX\n            const clickedY = e.clientY\n            const callSign = this.aeroplaneService.getCallSignByPosition(clickedX, clickedY)\n            if (callSign) {\n                let commandField = document.getElementById(\"command-entry-field\");\n                commandField.value = callSign\n                this.lastCallSign = callSign\n                this._focusCommandEntry()\n            }\n        });\n    }\n\n}\n\n//# sourceURL=webpack://atc/./src/Interface/InterfaceController.js?");

/***/ }),

/***/ "./src/Interface/UIController.js":
/*!***************************************!*\
  !*** ./src/Interface/UIController.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"UIController\": () => (/* binding */ UIController)\n/* harmony export */ });\n/* harmony import */ var _utils_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/common */ \"./src/utils/common.js\");\n\n\nclass UIController {\n    constructor(mapConfig) {\n        this.mapConfig = mapConfig\n\n        this.backgroundCanvas = document.getElementById(\"background\");\n        this.backgroundContext = this.backgroundCanvas.getContext('2d');\n        this.featuresCanvas = document.getElementById(\"features\");\n        this.featuresContext = this.featuresCanvas.getContext('2d');\n        this.aeroplaneCanvas = document.getElementById(\"aeroplanes\");\n        this.aeroplaneContext = this.aeroplaneCanvas.getContext('2d');\n\n        this.mapBoundaries = {\n            minX: 0,\n            maxX: document.body.clientWidth - (document.body.clientWidth * 0.2),\n            minY: 0,\n            maxY: document.body.clientHeight,\n        }\n\n        this.initBackgroundLayer()\n        this.initFeaturesLayer()\n        this.initAeroplaneLayer()\n\n        this.initFeatures()\n    }\n\n    initBackgroundLayer = () => {\n        this.backgroundContext.fillStyle = _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.BACKGROUND;\n\n        this.backgroundCanvas.width = document.body.clientWidth - (document.body.clientWidth * 0.2);\n        this.backgroundCanvas.height = document.body.clientHeight;\n\n        this.backgroundContext.fillRect(0, 0, this.backgroundCanvas.width, this.backgroundCanvas.height)\n    }\n\n    initFeaturesLayer = () => {\n        this.featuresCanvas.width = document.body.clientWidth - (document.body.clientWidth * 0.2);\n        this.featuresCanvas.height = document.body.clientHeight;\n    }\n\n    initAeroplaneLayer = () => {\n        this.aeroplaneCanvas.width = document.body.clientWidth - (document.body.clientWidth * 0.2);\n        this.aeroplaneCanvas.height = document.body.clientHeight;\n    }\n\n    clearAeroplaneLayer = () => {\n        this.aeroplaneContext.clearRect(0, 0, document.body.clientWidth - (document.body.clientWidth * 0.2), document.body.clientHeight);\n    }\n\n    initFeatures = () => {\n        this._drawExclusionZones(this.mapConfig.features.exclusionZones)\n        this._drawVORs(this.mapConfig.features.waypoints)\n        this._drawRunways(this.mapConfig.features.runways)\n    }\n\n    drawAeroplane = (aeroplane) => {\n        this._drawAeroplanePosition(aeroplane)\n        this._drawAeroplaneSpeedTail(aeroplane)\n        this._drawHeadingLabel(aeroplane)\n        this._drawSpeedLabel(aeroplane)\n        this._drawAltitudeLabel(aeroplane)\n        this._drawCallSignLabel(aeroplane)\n    }\n\n    _drawExclusionZones = (exclusionZones) => {\n        exclusionZones.forEach(zone => {\n            const severityColourMap = {\n                critical: {\n                    solid: _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.RED,\n                    transparent: _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.RED_TRANSPARENT\n                },\n                moderate: {\n                    solid: _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.ORANGE,\n                    transparent: _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.ORANGE_TRANSPARENT\n                }\n            }\n            // Border\n            this.featuresContext.strokeStyle = severityColourMap[zone.level].solid;\n            this.featuresContext.lineWidth = 2;\n            this.featuresContext.lineJoin = 'round';\n            this.featuresContext.setLineDash([2]);\n            this.featuresContext.beginPath();\n            for (let x = 0; x < zone.boundaries.length; x++) {\n                let boundary =  zone.boundaries[x]\n                if (x === 0) {\n                    this.featuresContext.moveTo(boundary.x, boundary.y)\n                } else {\n                    this.featuresContext.lineTo(boundary.x, boundary.y)\n                }\n\n            }\n            this.featuresContext.closePath()\n            this.featuresContext.stroke();\n\n            // Fill\n            this.featuresContext.fillStyle = severityColourMap[zone.level].transparent;\n            this.featuresContext.beginPath();\n            for (let x = 0; x < zone.boundaries.length; x++) {\n                let boundary =  zone.boundaries[x]\n                if (x === 0) {\n                    this.featuresContext.moveTo(boundary.x, boundary.y)\n                } else {\n                    this.featuresContext.lineTo(boundary.x, boundary.y)\n                }\n\n            }\n            this.featuresContext.closePath()\n            this.featuresContext.fill();\n        })\n    }\n\n    _drawRunways = (runways) => {\n        runways.forEach(runway => {\n            this.featuresContext.strokeStyle = _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.MINT;\n            this.featuresContext.lineWidth = 4;\n            this.featuresContext.setLineDash([]);\n            this.featuresContext.beginPath();\n            this.featuresContext.moveTo(runway.start.x, runway.start.y)\n            this.featuresContext.lineTo(runway.end.x, runway.end.y)\n            this.featuresContext.stroke();\n            // Labels\n            this.featuresContext.fillStyle = _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.WHITE;\n            this.featuresContext.beginPath();\n            this.featuresContext.font = \"12px Courier New\";\n            this.featuresContext.fillText(runway.start.label, runway.start.x - 20, runway.start.y - 5);\n            this.featuresContext.fillText(runway.end.label, runway.end.x + 10, runway.end.y - 5);\n\n        })\n    }\n\n    _drawAeroplanePosition = (aeroplane) => {\n        this.aeroplaneContext.strokeStyle = _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.YELLOW;\n        this.featuresContext.lineWidth = 2;\n        this.aeroplaneContext.beginPath();\n        this.aeroplaneContext.arc(aeroplane.x, aeroplane.y, 5, 0, Math.PI * 2, false);\n        this.aeroplaneContext.stroke();\n    }\n\n    _drawAeroplaneSpeedTail = (aeroplane) => {\n        this.aeroplaneContext.strokeStyle = _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.YELLOW;\n        this.featuresContext.lineWidth = 2;\n        this.aeroplaneContext.beginPath();\n        this.aeroplaneContext.moveTo(aeroplane.x, aeroplane.y)\n\n        const oppositeHeading = aeroplane.heading + 180\n\n        const headingRadians = (Math.PI / 180) * oppositeHeading\n        const normalisedSpeed = aeroplane.speed / 8\n\n        let tailEndX = aeroplane.x + normalisedSpeed * Math.sin(headingRadians);\n        let tailEndY = aeroplane.y - normalisedSpeed * Math.cos(headingRadians);\n\n        this.aeroplaneContext.moveTo(tailEndX, tailEndY)\n        this.aeroplaneContext.lineTo(aeroplane.x, aeroplane.y)\n        this.aeroplaneContext.stroke();\n    }\n\n    _drawHeadingLabel = (aeroplane) => {\n        this.aeroplaneContext.fillStyle = _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.MINT;\n        this.aeroplaneContext.font = \"bold 12px Courier New\";\n        this.aeroplaneContext.beginPath();\n        this.aeroplaneContext.fillText(`${aeroplane.heading}`, aeroplane.x - 20, aeroplane.y - 20);\n    }\n\n    _drawSpeedLabel = (aeroplane) => {\n        this.aeroplaneContext.fillStyle = _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.YELLOW;\n        this.aeroplaneContext.font = \"bold 12px Courier New\";\n        this.aeroplaneContext.beginPath();\n        const headingLabelWidth = this.aeroplaneContext.measureText(`${aeroplane.heading}`).width;\n        this.aeroplaneContext.fillText(`${aeroplane.speed}`, aeroplane.x - 20 + headingLabelWidth + 5, aeroplane.y - 20);\n    }\n\n    _drawAltitudeLabel = (aeroplane) => {\n        this.aeroplaneContext.fillStyle = _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.MINT;\n        this.aeroplaneContext.font = \"bold 12px Courier New\";\n        this.aeroplaneContext.beginPath();\n        const headingLabelWidth = this.aeroplaneContext.measureText(`${aeroplane.heading}`).width;\n        const speedLabelWidth = this.aeroplaneContext.measureText(`${aeroplane.speed}`).width;\n        this.aeroplaneContext.fillText(`${Math.round(aeroplane.altitude / 100)}`, aeroplane.x - 20 + (headingLabelWidth + 5) + (speedLabelWidth + 5), aeroplane.y - 20);\n    }\n\n    _drawCallSignLabel = (aeroplane) => {\n        this.aeroplaneContext.fillStyle = _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.MINT;\n        this.aeroplaneContext.font = \"bold 12px Courier New\";\n        this.aeroplaneContext.beginPath();\n        this.aeroplaneContext.fillText(`${aeroplane.callSign}`, aeroplane.x - 20, aeroplane.y - 30);\n    }\n\n    _drawVORs = (vors) => {\n        vors.forEach(vor => {\n            this.featuresContext.strokeStyle = _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.WHITE;\n            this.featuresContext.lineWidth = 2;\n            this.featuresContext.setLineDash([2]);\n            this.featuresContext.beginPath();\n            this.featuresContext.arc(vor.x, vor.y, 12, 0, Math.PI * 2, false);\n            this.featuresContext.stroke();\n\n            this.featuresContext.fillStyle = _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.WHITE;\n            this.featuresContext.beginPath();\n            this.featuresContext.arc(vor.x, vor.y, 2, 0, Math.PI * 2, false);\n            this.featuresContext.fill();\n\n            this.featuresContext.fillStyle = _utils_common__WEBPACK_IMPORTED_MODULE_0__.COLOURS.WHITE;\n            this.featuresContext.font = \"14px Courier New\";\n            this.featuresContext.beginPath();\n            this.featuresContext.fillText(vor.id, vor.x - 12, vor.y - 20);\n\n        })\n    }\n}\n\n\n//# sourceURL=webpack://atc/./src/Interface/UIController.js?");

/***/ }),

/***/ "./src/config/maps/EGLL.js":
/*!*********************************!*\
  !*** ./src/config/maps/EGLL.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EGLL\": () => (/* binding */ EGLL)\n/* harmony export */ });\nconst EGLL = {\n    name: \"London Heathrow\",\n    shortCode: \"LHR\",\n    features: {\n        runways: [\n            {\n                start: {\n                    label: \"9L\",\n                    x: 700,\n                    y: 450\n                },\n                end: {\n                    label: \"27R\",\n                    x: 760,\n                    y: 450\n                }\n            },\n            {\n                start: {\n                    label: \"9R\",\n                    x: 700,\n                    y: 470\n                },\n                end: {\n                    label: \"27L\",\n                    x: 760,\n                    y: 470\n                }\n            }\n        ],\n        vors: [\n            {id: \"OCK\", name: \"Ockham\", x: 600, y: 600},\n            {id: \"LAM\", name: \"Lambourne\", x: 900, y: 300},\n            {id: \"EPM\", name: \"Epsom\", x: 650, y: 580},\n        ],\n        exclusionZones: [\n            {\n                level: \"critical\",\n                boundaries: [\n                    {x: 500, y: 600},\n                    {x: 530, y: 550},\n                    {x: 640, y: 500},\n                    {x: 700, y: 500},\n                    {x: 660, y: 550},\n                    {x: 530, y: 630},\n                ]\n            },\n            {\n                level: \"moderate\",\n                boundaries: [\n                    {x: 940, y: 330},\n                    {x: 1000, y: 310},\n                    {x: 1050, y: 315},\n                    {x: 1060, y: 400},\n                    {x: 980, y: 500},\n                    {x: 950, y: 420},\n                ]\n            }\n        ]\n    }\n}\n\n//# sourceURL=webpack://atc/./src/config/maps/EGLL.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Interface_UIController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Interface/UIController */ \"./src/Interface/UIController.js\");\n/* harmony import */ var _Application_AeroplaneService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Application/AeroplaneService */ \"./src/Application/AeroplaneService.js\");\n/* harmony import */ var _Application_GameLoop__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Application/GameLoop */ \"./src/Application/GameLoop.js\");\n/* harmony import */ var _Interface_InterfaceController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Interface/InterfaceController */ \"./src/Interface/InterfaceController.js\");\n/* harmony import */ var _config_maps_EGLL__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./config/maps/EGLL */ \"./src/config/maps/EGLL.js\");\n\n\n\n\n\n\n\nconst ui = new _Interface_UIController__WEBPACK_IMPORTED_MODULE_0__.UIController(_config_maps_EGLL__WEBPACK_IMPORTED_MODULE_4__.EGLL)\nconst aeroplaneService = new _Application_AeroplaneService__WEBPACK_IMPORTED_MODULE_1__.AeroplaneService(ui.mapBoundaries)\nconst interfaceController = new _Interface_InterfaceController__WEBPACK_IMPORTED_MODULE_3__.InterfaceController(aeroplaneService)\nconst gameLoop = new _Application_GameLoop__WEBPACK_IMPORTED_MODULE_2__.GameLoop(ui, interfaceController, aeroplaneService)\n\ngameLoop.init()\ngameLoop.start()\n\n//# sourceURL=webpack://atc/./src/index.js?");

/***/ }),

/***/ "./src/utils/common.js":
/*!*****************************!*\
  !*** ./src/utils/common.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AIRCRAFT\": () => (/* binding */ AIRCRAFT),\n/* harmony export */   \"COLOURS\": () => (/* binding */ COLOURS),\n/* harmony export */   \"MAX_ALTITUDE\": () => (/* binding */ MAX_ALTITUDE),\n/* harmony export */   \"MIN_ALTITUDE\": () => (/* binding */ MIN_ALTITUDE),\n/* harmony export */   \"MIN_SPEED\": () => (/* binding */ MIN_SPEED),\n/* harmony export */   \"distance\": () => (/* binding */ distance),\n/* harmony export */   \"getRandomNumberBetween\": () => (/* binding */ getRandomNumberBetween),\n/* harmony export */   \"range\": () => (/* binding */ range),\n/* harmony export */   \"round\": () => (/* binding */ round),\n/* harmony export */   \"toDegrees\": () => (/* binding */ toDegrees),\n/* harmony export */   \"toRadians\": () => (/* binding */ toRadians)\n/* harmony export */ });\nconst MIN_SPEED = 120;\nconst MIN_ALTITUDE = 1000;\nconst MAX_ALTITUDE = 40000;\n\nconst COLOURS = {\n    YELLOW: 'rgb(252,210,100)',\n    MINT: 'rgb(0,213,170)',\n    BLUE: 'rgb(0,151,255)',\n    RED: 'rgb(220,46,78)',\n    RED_TRANSPARENT: 'rgba(220,46,78,0.2)',\n    BACKGROUND: 'rgb(18,19,49)',\n    WHITE: 'rgb(218,219,243)',\n    ORANGE: 'rgb(194,127,6)',\n    ORANGE_TRANSPARENT: 'rgb(194,127,6,0.2)',\n\n}\n\nconst AIRCRAFT = [\n    {\n        \"operator\": \"British Airways\",\n        \"operatorIATA\": \"BA\",\n        \"type\": \"Airbus\",\n        \"class\": \"A340-400\",\n        \"weight\": 3,\n    },\n    {\n        \"operator\": \"Lufthansa\",\n        \"operatorIATA\": \"LH\",\n        \"type\": \"Airbus\",\n        \"class\": \"A321\",\n        \"weight\": 2,\n    },\n    {\n        \"operator\": \"Virgin Atlantic\",\n        \"operatorIATA\": \"VS\",\n        \"type\": \"Boeing\",\n        \"class\": \"B747-400\",\n        \"weight\": 3,\n    }\n]\n\nconst getRandomNumberBetween = (min, max) => {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nconst toRadians = (degrees) => {\n    return (Math.PI / 180) * degrees\n}\n\nconst toDegrees = (radians) => {\n    return (180 * radians) / Math.PI\n}\n\nconst round = (number, n) => {\n    return Math.round(number * Math.pow(10, n)) / Math.pow(10, n)\n}\n\nconst distance = (currentX, currentY, targetX, targetY) => {\n    return Math.sqrt(Math.pow((currentX - targetX), 2) + Math.pow((currentY - targetY), 2))\n}\n\nconst range = (a, b, step) => {\n    if (!step) {\n        throw 'Step cannot be 0'\n    }\n    let array = []\n\n    if (b > a) {\n        for (let x = a; x < b; x += step) {\n            array.push(x)\n        }\n        return array\n    }\n\n    if (a > b) {\n        for (let x = a; x > b; x -= step) {\n            array.push(x)\n        }\n        return array\n    }\n\n    return []\n}\n\n//# sourceURL=webpack://atc/./src/utils/common.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;